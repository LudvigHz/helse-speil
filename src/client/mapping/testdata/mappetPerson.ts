import {
    Arbeidsgiver,
    Dagtype,
    Kildetype,
    Kjønn,
    Periodetype,
    Person,
    Vedtaksperiode,
    Vedtaksperiodetilstand,
    Vilkår,
} from 'internal-types';
import dayjs, { Dayjs } from 'dayjs';

export const mappetPerson: Person = {
    enhet: {
        id: '',
        navn: '',
    },
    aktørId: '1211109876233',
    fødselsnummer: '01019000123',
    personinfo: {
        fornavn: 'Kringle',
        mellomnavn: null,
        etternavn: 'Krangel',
        fødselsdato: dayjs('1956-12-11T23:00:00.000Z'),
        kjønn: 'Mannebjørn' as Kjønn,
        fnr: '01019000123',
    },
    arbeidsgivere: [
        {
            navn: 'Potetsekk AS',
            id: '3fb100f2-5d3d-4a89-84cd-e123544a4400',
            organisasjonsnummer: '987654321',
            vedtaksperioder: [
                {
                    id: 'fa02d7a5-daf2-488c-9798-2539edd7fe3f',
                    gruppeId: 'en-gruppeId',
                    oppgavereferanse: 'en-oppgavereferanse',
                    utbetalingsreferanse: 'en-utbetalingsreferanse',
                    kanVelges: true,
                    vilkår: {
                        alder: {
                            alderSisteSykedag: 28,
                            oppfylt: true,
                        },
                        dagerIgjen: {
                            dagerBrukt: 3,
                            førsteFraværsdag: dayjs('2019-12-31T23:00:00.000Z'),
                            førsteSykepengedag: dayjs('2019-12-31T23:00:00.000Z'),
                            maksdato: dayjs('2020-10-06T22:00:00.000Z'),
                            oppfylt: true,
                            tidligerePerioder: [],
                        },
                        opptjening: {
                            antallOpptjeningsdagerErMinst: 3539,
                            oppfylt: true,
                            opptjeningFra: dayjs('2010-04-23T22:00:00.000Z'),
                        },
                        søknadsfrist: {
                            sendtNav: dayjs('2020-01-30T23:00:00.000Z'),
                            søknadTom: dayjs('2020-01-29T23:00:00.000Z'),
                            oppfylt: true,
                        },
                        sykepengegrunnlag: {
                            sykepengegrunnlag: 372000,
                            oppfylt: true,
                            grunnebeløp: 99858,
                        },
                    },
                    tilstand: Vedtaksperiodetilstand.Oppgaver,
                    behandlet: false,
                    forlengelseFraInfotrygd: false,
                    hendelser: [
                        {
                            id: 'c554ee9b-30ca-4c7f-adce-c0224108e83a',
                            type: Kildetype.Sykmelding,
                            fom: dayjs('2019-12-31T23:00:00.000Z'),
                            tom: dayjs('2020-01-29T23:00:00.000Z'),
                            rapportertDato: dayjs('2020-02-13T23:00:00.000Z'),
                        },
                        {
                            id: '726e57d9-7844-4a28-886b-8485dbdbd4d2',
                            type: Kildetype.Søknad,
                            fom: dayjs('2019-12-31T23:00:00.000Z'),
                            tom: dayjs('2020-01-29T23:00:00.000Z'),
                            sendtNav: dayjs('2020-02-13T23:00:00.000Z'),
                            rapportertDato: dayjs('2020-02-13T23:00:00.000Z'),
                        },
                        {
                            id: '09851096-bcba-4c7a-8dc0-a1617a744f1f',
                            type: Kildetype.Inntektsmelding,
                            beregnetInntekt: 31000,
                            mottattTidspunkt: dayjs('2020-01-15T23:00:00.000Z'),
                        },
                    ],
                    fom: dayjs('2019-12-31T23:00:00.000Z'),
                    tom: dayjs('2020-01-30T23:00:00.000Z'),
                    utbetalingstidslinje: [
                        {
                            gradering: 100,
                            type: Dagtype.Syk,
                            dato: dayjs('2019-12-31T23:00:00.000Z'),
                            utbetaling: 1500,
                        },
                        {
                            gradering: 100,
                            type: Dagtype.Syk,
                            dato: dayjs('2020-01-01T23:00:00.000Z'),
                            utbetaling: 1500,
                        },
                        {
                            gradering: 100,
                            type: Dagtype.Syk,
                            dato: dayjs('2020-01-02T23:00:00.000Z'),
                            utbetaling: 1500,
                        },
                        {
                            gradering: 100,
                            type: Dagtype.Helg,
                            dato: dayjs('2020-01-03T23:00:00.000Z'),
                        },
                        {
                            gradering: 100,
                            type: Dagtype.Helg,
                            dato: dayjs('2020-01-04T23:00:00.000Z'),
                        },
                        {
                            gradering: 100,
                            type: Dagtype.Syk,
                            dato: dayjs('2020-01-05T23:00:00.000Z'),
                            utbetaling: 1500,
                        },
                        {
                            gradering: 100,
                            type: Dagtype.Syk,
                            dato: dayjs('2020-01-06T23:00:00.000Z'),
                            utbetaling: 1500,
                        },
                        {
                            gradering: 100,
                            type: Dagtype.Syk,
                            dato: dayjs('2020-01-07T23:00:00.000Z'),
                            utbetaling: 1500,
                        },
                        {
                            gradering: 100,
                            type: Dagtype.Syk,
                            dato: dayjs('2020-01-08T23:00:00.000Z'),
                            utbetaling: 1500,
                        },
                        {
                            gradering: 100,
                            type: Dagtype.Syk,
                            dato: dayjs('2020-01-09T23:00:00.000Z'),
                            utbetaling: 1500,
                        },
                        {
                            gradering: 100,
                            type: Dagtype.Helg,
                            dato: dayjs('2020-01-10T23:00:00.000Z'),
                        },
                        {
                            gradering: 100,
                            type: Dagtype.Helg,
                            dato: dayjs('2020-01-11T23:00:00.000Z'),
                        },
                        {
                            gradering: 100,
                            type: Dagtype.Syk,
                            dato: dayjs('2020-01-12T23:00:00.000Z'),
                            utbetaling: 1500,
                        },
                        {
                            gradering: 100,
                            type: Dagtype.Syk,
                            dato: dayjs('2020-01-13T23:00:00.000Z'),
                            utbetaling: 1500,
                        },
                        {
                            gradering: 100,
                            type: Dagtype.Syk,
                            dato: dayjs('2020-01-14T23:00:00.000Z'),
                            utbetaling: 1500,
                        },
                        {
                            gradering: 100,
                            type: Dagtype.Syk,
                            dato: dayjs('2020-01-15T23:00:00.000Z'),
                            utbetaling: 1500,
                        },
                        {
                            gradering: 100,
                            type: Dagtype.Syk,
                            dato: dayjs('2020-01-16T23:00:00.000Z'),
                            utbetaling: 1500,
                        },
                        {
                            gradering: 100,
                            type: Dagtype.Helg,
                            dato: dayjs('2020-01-17T23:00:00.000Z'),
                        },
                        {
                            gradering: 100,
                            type: Dagtype.Helg,
                            dato: dayjs('2020-01-18T23:00:00.000Z'),
                        },
                        {
                            gradering: 100,
                            type: Dagtype.Syk,
                            dato: dayjs('2020-01-19T23:00:00.000Z'),
                            utbetaling: 1500,
                        },
                        {
                            gradering: 100,
                            type: Dagtype.Syk,
                            dato: dayjs('2020-01-20T23:00:00.000Z'),
                            utbetaling: 1500,
                        },
                        {
                            gradering: 100,
                            type: Dagtype.Syk,
                            dato: dayjs('2020-01-21T23:00:00.000Z'),
                            utbetaling: 1500,
                        },
                        {
                            gradering: 100,
                            type: Dagtype.Syk,
                            dato: dayjs('2020-01-22T23:00:00.000Z'),
                            utbetaling: 1500,
                        },
                        {
                            gradering: 100,
                            type: Dagtype.Syk,
                            dato: dayjs('2020-01-23T23:00:00.000Z'),
                            utbetaling: 1500,
                        },
                        {
                            gradering: 100,
                            type: Dagtype.Helg,
                            dato: dayjs('2020-01-24T23:00:00.000Z'),
                        },
                        {
                            gradering: 100,
                            type: Dagtype.Helg,
                            dato: dayjs('2020-01-25T23:00:00.000Z'),
                        },
                        {
                            gradering: 100,
                            type: Dagtype.Syk,
                            dato: dayjs('2020-01-26T23:00:00.000Z'),
                            utbetaling: 1500,
                        },
                        {
                            gradering: 100,
                            type: Dagtype.Syk,
                            dato: dayjs('2020-01-27T23:00:00.000Z'),
                            utbetaling: 1500,
                        },
                        {
                            gradering: 100,
                            type: Dagtype.Syk,
                            dato: dayjs('2020-01-28T23:00:00.000Z'),
                            utbetaling: 1500,
                        },
                        {
                            gradering: 100,
                            type: Dagtype.Syk,
                            dato: dayjs('2020-01-29T23:00:00.000Z'),
                            utbetaling: 1500,
                        },
                    ],
                    sykdomstidslinje: [
                        {
                            type: Dagtype.Syk,
                            dato: dayjs('2019-12-31T23:00:00.000Z'),
                            kilde: Kildetype.Sykmelding,
                            kildeId: 'DC7A5F57-DE63-4648-9631-B50C100859BA',
                            gradering: 100,
                        },
                        {
                            type: Dagtype.Syk,
                            dato: dayjs('2020-01-01T23:00:00.000Z'),
                            kilde: Kildetype.Sykmelding,
                            kildeId: 'DC7A5F57-DE63-4648-9631-B50C100859BA',
                            gradering: 100,
                        },
                        {
                            type: Dagtype.Syk,
                            dato: dayjs('2020-01-02T23:00:00.000Z'),
                            kilde: Kildetype.Sykmelding,
                            kildeId: 'DC7A5F57-DE63-4648-9631-B50C100859BA',
                            gradering: 100,
                        },
                        {
                            type: Dagtype.Helg,
                            dato: dayjs('2020-01-03T23:00:00.000Z'),
                            kilde: Kildetype.Søknad,
                            kildeId: 'D94DD20F-8B95-4769-87DA-80F8F3AE6576',
                            gradering: 100,
                        },
                        {
                            type: Dagtype.Helg,
                            dato: dayjs('2020-01-04T23:00:00.000Z'),
                            kilde: Kildetype.Søknad,
                            kildeId: 'D94DD20F-8B95-4769-87DA-80F8F3AE6576',
                            gradering: 100,
                        },
                        {
                            type: Dagtype.Syk,
                            dato: dayjs('2020-01-05T23:00:00.000Z'),
                            kilde: Kildetype.Sykmelding,
                            kildeId: 'DC7A5F57-DE63-4648-9631-B50C100859BA',
                            gradering: 100,
                        },
                        {
                            type: Dagtype.Syk,
                            dato: dayjs('2020-01-06T23:00:00.000Z'),
                            kilde: Kildetype.Sykmelding,
                            kildeId: 'DC7A5F57-DE63-4648-9631-B50C100859BA',
                            gradering: 100,
                        },
                        {
                            type: Dagtype.Syk,
                            dato: dayjs('2020-01-07T23:00:00.000Z'),
                            kilde: Kildetype.Sykmelding,
                            kildeId: 'DC7A5F57-DE63-4648-9631-B50C100859BA',
                            gradering: 100,
                        },
                        {
                            type: Dagtype.Syk,
                            dato: dayjs('2020-01-08T23:00:00.000Z'),
                            kilde: Kildetype.Sykmelding,
                            kildeId: 'DC7A5F57-DE63-4648-9631-B50C100859BA',
                            gradering: 100,
                        },
                        {
                            type: Dagtype.Syk,
                            dato: dayjs('2020-01-09T23:00:00.000Z'),
                            kilde: Kildetype.Sykmelding,
                            kildeId: 'DC7A5F57-DE63-4648-9631-B50C100859BA',
                            gradering: 100,
                        },
                        {
                            type: Dagtype.Helg,
                            dato: dayjs('2020-01-10T23:00:00.000Z'),
                            kilde: Kildetype.Søknad,
                            kildeId: 'D94DD20F-8B95-4769-87DA-80F8F3AE6576',
                            gradering: 100,
                        },
                        {
                            type: Dagtype.Helg,
                            dato: dayjs('2020-01-11T23:00:00.000Z'),
                            kilde: Kildetype.Søknad,
                            kildeId: 'D94DD20F-8B95-4769-87DA-80F8F3AE6576',
                            gradering: 100,
                        },
                        {
                            type: Dagtype.Syk,
                            dato: dayjs('2020-01-12T23:00:00.000Z'),
                            kilde: Kildetype.Sykmelding,
                            kildeId: 'DC7A5F57-DE63-4648-9631-B50C100859BA',
                            gradering: 100,
                        },
                        {
                            type: Dagtype.Syk,
                            dato: dayjs('2020-01-13T23:00:00.000Z'),
                            kilde: Kildetype.Sykmelding,
                            kildeId: 'DC7A5F57-DE63-4648-9631-B50C100859BA',
                            gradering: 100,
                        },
                        {
                            type: Dagtype.Syk,
                            dato: dayjs('2020-01-14T23:00:00.000Z'),
                            kilde: Kildetype.Sykmelding,
                            kildeId: 'DC7A5F57-DE63-4648-9631-B50C100859BA',
                            gradering: 100,
                        },
                        {
                            type: Dagtype.Syk,
                            dato: dayjs('2020-01-15T23:00:00.000Z'),
                            kilde: Kildetype.Sykmelding,
                            kildeId: 'DC7A5F57-DE63-4648-9631-B50C100859BA',
                            gradering: 100,
                        },
                        {
                            type: Dagtype.Syk,
                            dato: dayjs('2020-01-16T23:00:00.000Z'),
                            kilde: Kildetype.Sykmelding,
                            kildeId: 'DC7A5F57-DE63-4648-9631-B50C100859BA',
                            gradering: 100,
                        },
                        {
                            type: Dagtype.Helg,
                            dato: dayjs('2020-01-17T23:00:00.000Z'),
                            kilde: Kildetype.Søknad,
                            kildeId: 'D94DD20F-8B95-4769-87DA-80F8F3AE6576',
                            gradering: 100,
                        },
                        {
                            type: Dagtype.Helg,
                            dato: dayjs('2020-01-18T23:00:00.000Z'),
                            kilde: Kildetype.Søknad,
                            kildeId: 'D94DD20F-8B95-4769-87DA-80F8F3AE6576',
                            gradering: 100,
                        },
                        {
                            type: Dagtype.Syk,
                            dato: dayjs('2020-01-19T23:00:00.000Z'),
                            kilde: Kildetype.Sykmelding,
                            kildeId: 'DC7A5F57-DE63-4648-9631-B50C100859BA',
                            gradering: 100,
                        },
                        {
                            type: Dagtype.Syk,
                            dato: dayjs('2020-01-20T23:00:00.000Z'),
                            kilde: Kildetype.Sykmelding,
                            kildeId: 'DC7A5F57-DE63-4648-9631-B50C100859BA',
                            gradering: 100,
                        },
                        {
                            type: Dagtype.Syk,
                            dato: dayjs('2020-01-21T23:00:00.000Z'),
                            kilde: Kildetype.Sykmelding,
                            kildeId: 'DC7A5F57-DE63-4648-9631-B50C100859BA',
                            gradering: 100,
                        },
                        {
                            type: Dagtype.Syk,
                            dato: dayjs('2020-01-22T23:00:00.000Z'),
                            kilde: Kildetype.Sykmelding,
                            kildeId: 'DC7A5F57-DE63-4648-9631-B50C100859BA',
                            gradering: 100,
                        },
                        {
                            type: Dagtype.Syk,
                            dato: dayjs('2020-01-23T23:00:00.000Z'),
                            kilde: Kildetype.Sykmelding,
                            kildeId: 'DC7A5F57-DE63-4648-9631-B50C100859BA',
                            gradering: 100,
                        },
                        {
                            type: Dagtype.Helg,
                            dato: dayjs('2020-01-24T23:00:00.000Z'),
                            kilde: Kildetype.Søknad,
                            kildeId: 'D94DD20F-8B95-4769-87DA-80F8F3AE6576',
                            gradering: 100,
                        },
                        {
                            type: Dagtype.Helg,
                            dato: dayjs('2020-01-25T23:00:00.000Z'),
                            kilde: Kildetype.Søknad,
                            kildeId: 'D94DD20F-8B95-4769-87DA-80F8F3AE6576',
                            gradering: 100,
                        },
                        {
                            type: Dagtype.Syk,
                            dato: dayjs('2020-01-26T23:00:00.000Z'),
                            kilde: Kildetype.Sykmelding,
                            kildeId: 'DC7A5F57-DE63-4648-9631-B50C100859BA',
                            gradering: 100,
                        },
                        {
                            type: Dagtype.Syk,
                            dato: dayjs('2020-01-27T23:00:00.000Z'),
                            kilde: Kildetype.Sykmelding,
                            kildeId: 'DC7A5F57-DE63-4648-9631-B50C100859BA',
                            gradering: 100,
                        },
                        {
                            type: Dagtype.Syk,
                            dato: dayjs('2020-01-28T23:00:00.000Z'),
                            kilde: Kildetype.Sykmelding,
                            kildeId: 'DC7A5F57-DE63-4648-9631-B50C100859BA',
                            gradering: 100,
                        },
                        {
                            type: Dagtype.Syk,
                            dato: dayjs('2020-01-29T23:00:00.000Z'),
                            kilde: Kildetype.Sykmelding,
                            kildeId: 'DC7A5F57-DE63-4648-9631-B50C100859BA',
                            gradering: 100,
                        },
                    ],
                    periodetype: Periodetype.Førstegangsbehandling,
                    utbetalinger: {
                        arbeidsgiverUtbetaling: {
                            fagsystemId: 'en-fagsystem-id',
                            linjer: [
                                {
                                    fom: dayjs('2019-12-31T23:00:00.000Z'),
                                    tom: dayjs('2020-01-29T23:00:00.000Z'),
                                    dagsats: 1500,
                                    grad: 100,
                                },
                            ],
                        },
                    },
                    oppsummering: {
                        antallUtbetalingsdager: 22,
                        totaltTilUtbetaling: 33000,
                    },
                    overstyringer: [],
                    inntektskilder: [
                        {
                            organisasjonsnummer: '987654321',
                            månedsinntekt: 31000,
                            årsinntekt: 372000,
                            refusjon: true,
                            forskuttering: true,
                        },
                    ],
                    aktivitetslog: [
                        {
                            melding: 'Aktivitetsloggvarsel',
                            alvorlighetsgrad: 'W',
                            tidsstempel: dayjs('2020-04-03T07:40:47.261Z'),
                        },
                    ],
                    sykepengegrunnlag: {
                        årsinntektFraAording: 372000,
                        årsinntektFraInntektsmelding: 372000,
                        avviksprosent: 0,
                        sykepengegrunnlag: 372000,
                    },
                },
            ],
        },
    ],
    infotrygdutbetalinger: [],
};

const arbeidsgiver = (): Arbeidsgiver => mappetPerson.arbeidsgivere[0];
const vedtaksperiode = (): Vedtaksperiode => arbeidsgiver().vedtaksperioder[0] as Vedtaksperiode;
const vilkår = (): Vilkår => vedtaksperiode().vilkår as Vilkår;

export const vedtaksperiodeMedMaksdato = (maksdato: Dayjs): Vedtaksperiode => ({
    ...vedtaksperiode(),
    vilkår: {
        ...vilkår(),
        dagerIgjen: {
            ...vilkår().dagerIgjen,
            maksdato,
        },
    },
});

export const mappetPersonMedMaksdato = (maksdato: Dayjs): Person => ({
    ...mappetPerson,
    arbeidsgivere: [
        {
            ...arbeidsgiver(),
            vedtaksperioder: [
                {
                    ...vedtaksperiode(),
                    vilkår: {
                        ...vilkår(),
                        dagerIgjen: {
                            ...vilkår().dagerIgjen,
                            maksdato,
                        },
                    },
                },
            ],
        },
    ],
});
