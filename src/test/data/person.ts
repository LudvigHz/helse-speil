import { mapPerson } from '../../client/mapping/person';
import { umappetArbeidsgiver } from './arbeidsgiver';
import { umappetUtbetalinger } from './SpesialistUtbetaling';
import { Dagtype, Kildetype, Kjønn, Periodetype, Person, Vedtaksperiodetilstand } from 'internal-types';
import dayjs from 'dayjs';
import { umappetSimuleringsdata } from './simulering';

export const umappetPerson = (arbeidsgivere = [umappetArbeidsgiver()], utbetalinger = umappetUtbetalinger()) => ({
    aktørId: '1211109876233',
    fødselsnummer: '01019000123',
    personinfo: {
        fornavn: 'Kringle',
        mellomnavn: null,
        etternavn: 'Krangel',
        fødselsdato: '1956-12-12T00:00:00.000Z',
        kjønn: 'Mannebjørn',
    },
    utbetalinger: utbetalinger,
    arbeidsgivere: arbeidsgivere,
    enhet: { id: '', navn: '' },
    tildeltTil: null,
    arbeidsforhold: [],
    simuleringsdata: umappetSimuleringsdata,
});

export const mappetPerson = (arbeidsgivere = [umappetArbeidsgiver()], utbetalinger = umappetUtbetalinger()) =>
    mapPerson(umappetPerson(arbeidsgivere, utbetalinger)).person;

export const mappetPersonObject: Person = {
    enhet: {
        id: '',
        navn: '',
    },
    aktørId: '1211109876233',
    fødselsnummer: '01019000123',
    personinfo: {
        fornavn: 'Kringle',
        mellomnavn: null,
        etternavn: 'Krangel',
        fødselsdato: dayjs('1956-12-12T00:00:00.000Z'),
        kjønn: 'Mannebjørn' as Kjønn,
        fnr: '01019000123',
    },
    utbetalinger: [
        {
            status: 'UTBETALT',
            type: 'UTBETALING',
            arbeidsgiverOppdrag: {
                orgnummer: '987654321',
                fagsystemId: '6CFURRBEWJF3VGP5Q4BUTO6ABM',
                utbetalingslinjer: [
                    {
                        fom: dayjs('2020-01-17'),
                        tom: dayjs('2020-01-20'),
                    },
                ],
            },
        },
        {
            status: 'SENDT',
            type: 'UTBETALING',
            arbeidsgiverOppdrag: {
                orgnummer: '987654321',
                fagsystemId: '6CFURRBEWJF3VGP5Q4BUTO6ABM',
                utbetalingslinjer: [
                    {
                        fom: dayjs('2020-01-17'),
                        tom: dayjs('2020-01-25'),
                    },
                ],
            },
        },
    ],
    arbeidsgivere: [
        {
            navn: 'Potetsekk AS',
            id: '3fb100f2-5d3d-4a89-84cd-e123544a4400',
            organisasjonsnummer: '987654321',
            vedtaksperioder: [
                {
                    id: 'fa02d7a5-daf2-488c-9798-2539edd7fe3f',
                    gruppeId: 'en-gruppeId',
                    oppgavereferanse: 'en-oppgavereferanse',
                    utbetalingsreferanse: 'en-utbetalingsreferanse',
                    kanVelges: true,
                    vilkår: {
                        alder: {
                            alderSisteSykedag: 28,
                            oppfylt: true,
                        },
                        dagerIgjen: {
                            dagerBrukt: 3,
                            skjæringstidspunkt: dayjs('2020-01-01T00:00:00.000Z'),
                            førsteSykepengedag: dayjs('2020-01-01T00:00:00.000Z'),
                            maksdato: dayjs('2020-10-07T00:00:00.000Z'),
                            oppfylt: true,
                            tidligerePerioder: [],
                            gjenståendeDager: undefined,
                        },
                        opptjening: {
                            antallOpptjeningsdagerErMinst: 3539,
                            oppfylt: true,
                            opptjeningFra: dayjs('2010-04-24T00:00:00.000Z'),
                        },
                        søknadsfrist: {
                            sendtNav: dayjs('2020-02-01T00:00:00.000Z'),
                            søknadTom: dayjs('2020-01-31T00:00:00.000Z'),
                            oppfylt: true,
                        },
                        sykepengegrunnlag: {
                            sykepengegrunnlag: 372000,
                            oppfylt: true,
                            grunnebeløp: 99858,
                        },
                        medlemskap: { oppfylt: true },
                    },
                    tilstand: Vedtaksperiodetilstand.Oppgaver,
                    behandlet: false,
                    forlengelseFraInfotrygd: false,
                    hendelser: [
                        {
                            id: 'c554ee9b-30ca-4c7f-adce-c0224108e83a',
                            type: Kildetype.Sykmelding,
                            fom: dayjs('2020-01-01T00:00:00.000Z'),
                            tom: dayjs('2020-01-31T00:00:00.000Z'),
                            rapportertDato: dayjs('2020-02-15T00:00:00.000Z'),
                        },
                        {
                            id: '726e57d9-7844-4a28-886b-8485dbdbd4d2',
                            type: Kildetype.Søknad,
                            fom: dayjs('2020-01-01T00:00:00.000Z'),
                            tom: dayjs('2020-01-31T00:00:00.000Z'),
                            sendtNav: dayjs('2020-02-15T00:00:00.000Z'),
                            rapportertDato: dayjs('2020-02-15T00:00:00.000Z'),
                        },
                        {
                            id: '09851096-bcba-4c7a-8dc0-a1617a744f1f',
                            type: Kildetype.Inntektsmelding,
                            beregnetInntekt: 31000,
                            mottattTidspunkt: dayjs('2020-01-16T00:00:00.000Z'),
                        },
                    ],
                    fom: dayjs('2020-01-01T00:00:00.000Z'),
                    tom: dayjs('2020-01-31T00:00:00.000Z'),
                    utbetalingstidslinje: [
                        {
                            gradering: 100,
                            type: Dagtype.Syk,
                            dato: dayjs('2020-01-01T00:00:00.000Z'),
                            utbetaling: 1500,
                        },
                        {
                            gradering: 100,
                            type: Dagtype.Syk,
                            dato: dayjs('2020-01-02T00:00:00.000Z'),
                            utbetaling: 1500,
                        },
                        {
                            gradering: 100,
                            type: Dagtype.Syk,
                            dato: dayjs('2020-01-03T00:00:00.000Z'),
                            utbetaling: 1500,
                        },
                        {
                            gradering: 100,
                            type: Dagtype.Helg,
                            dato: dayjs('2020-01-04T00:00:00.000Z'),
                            utbetaling: undefined,
                        },
                        {
                            gradering: 100,
                            type: Dagtype.Helg,
                            dato: dayjs('2020-01-05T00:00:00.000Z'),
                            utbetaling: undefined,
                        },
                        {
                            gradering: 100,
                            type: Dagtype.Syk,
                            dato: dayjs('2020-01-06T00:00:00.000Z'),
                            utbetaling: 1500,
                        },
                        {
                            gradering: 100,
                            type: Dagtype.Syk,
                            dato: dayjs('2020-01-07T00:00:00.000Z'),
                            utbetaling: 1500,
                        },
                        {
                            gradering: 100,
                            type: Dagtype.Syk,
                            dato: dayjs('2020-01-08T00:00:00.000Z'),
                            utbetaling: 1500,
                        },
                        {
                            gradering: 100,
                            type: Dagtype.Syk,
                            dato: dayjs('2020-01-09T00:00:00.000Z'),
                            utbetaling: 1500,
                        },
                        {
                            gradering: 100,
                            type: Dagtype.Syk,
                            dato: dayjs('2020-01-10T00:00:00.000Z'),
                            utbetaling: 1500,
                        },
                        {
                            gradering: 100,
                            type: Dagtype.Helg,
                            dato: dayjs('2020-01-11T00:00:00.000Z'),
                            utbetaling: undefined,
                        },
                        {
                            gradering: 100,
                            type: Dagtype.Helg,
                            dato: dayjs('2020-01-12T00:00:00.000Z'),
                            utbetaling: undefined,
                        },
                        {
                            gradering: 100,
                            type: Dagtype.Syk,
                            dato: dayjs('2020-01-13T00:00:00.000Z'),
                            utbetaling: 1500,
                        },
                        {
                            gradering: 100,
                            type: Dagtype.Syk,
                            dato: dayjs('2020-01-14T00:00:00.000Z'),
                            utbetaling: 1500,
                        },
                        {
                            gradering: 100,
                            type: Dagtype.Syk,
                            dato: dayjs('2020-01-15T00:00:00.000Z'),
                            utbetaling: 1500,
                        },
                        {
                            gradering: 100,
                            type: Dagtype.Syk,
                            dato: dayjs('2020-01-16T00:00:00.000Z'),
                            utbetaling: 1500,
                        },
                        {
                            gradering: 100,
                            type: Dagtype.Syk,
                            dato: dayjs('2020-01-17T00:00:00.000Z'),
                            utbetaling: 1500,
                        },
                        {
                            gradering: 100,
                            type: Dagtype.Helg,
                            dato: dayjs('2020-01-18T00:00:00.000Z'),
                            utbetaling: undefined,
                        },
                        {
                            gradering: 100,
                            type: Dagtype.Helg,
                            dato: dayjs('2020-01-19T00:00:00.000Z'),
                            utbetaling: undefined,
                        },
                        {
                            gradering: 100,
                            type: Dagtype.Syk,
                            dato: dayjs('2020-01-20T00:00:00.000Z'),
                            utbetaling: 1500,
                        },
                        {
                            gradering: 100,
                            type: Dagtype.Syk,
                            dato: dayjs('2020-01-21T00:00:00.000Z'),
                            utbetaling: 1500,
                        },
                        {
                            gradering: 100,
                            type: Dagtype.Syk,
                            dato: dayjs('2020-01-22T00:00:00.000Z'),
                            utbetaling: 1500,
                        },
                        {
                            gradering: 100,
                            type: Dagtype.Syk,
                            dato: dayjs('2020-01-23T00:00:00.000Z'),
                            utbetaling: 1500,
                        },
                        {
                            gradering: 100,
                            type: Dagtype.Syk,
                            dato: dayjs('2020-01-24T00:00:00.000Z'),
                            utbetaling: 1500,
                        },
                        {
                            gradering: 100,
                            type: Dagtype.Helg,
                            dato: dayjs('2020-01-25T00:00:00.000Z'),
                            utbetaling: undefined,
                        },
                        {
                            gradering: 100,
                            type: Dagtype.Helg,
                            dato: dayjs('2020-01-26T00:00:00.000Z'),
                            utbetaling: undefined,
                        },
                        {
                            gradering: 100,
                            type: Dagtype.Syk,
                            dato: dayjs('2020-01-27T00:00:00.000Z'),
                            utbetaling: 1500,
                        },
                        {
                            gradering: 100,
                            type: Dagtype.Syk,
                            dato: dayjs('2020-01-28T00:00:00.000Z'),
                            utbetaling: 1500,
                        },
                        {
                            gradering: 100,
                            type: Dagtype.Syk,
                            dato: dayjs('2020-01-29T00:00:00.000Z'),
                            utbetaling: 1500,
                        },
                        {
                            gradering: 100,
                            type: Dagtype.Syk,
                            dato: dayjs('2020-01-30T00:00:00.000Z'),
                            utbetaling: 1500,
                        },
                        {
                            gradering: 100,
                            type: Dagtype.Syk,
                            dato: dayjs('2020-01-31T00:00:00.000Z'),
                            utbetaling: 1500,
                        },
                    ],
                    sykdomstidslinje: [
                        {
                            type: Dagtype.Syk,
                            dato: dayjs('2020-01-01T00:00:00.000Z'),
                            kilde: Kildetype.Sykmelding,
                            kildeId: 'DC7A5F57-DE63-4648-9631-B50C100859BA',
                            gradering: 100,
                        },
                        {
                            type: Dagtype.Syk,
                            dato: dayjs('2020-01-02T00:00:00.000Z'),
                            kilde: Kildetype.Sykmelding,
                            kildeId: 'DC7A5F57-DE63-4648-9631-B50C100859BA',
                            gradering: 100,
                        },
                        {
                            type: Dagtype.Syk,
                            dato: dayjs('2020-01-03T00:00:00.000Z'),
                            kilde: Kildetype.Sykmelding,
                            kildeId: 'DC7A5F57-DE63-4648-9631-B50C100859BA',
                            gradering: 100,
                        },
                        {
                            type: Dagtype.Helg,
                            dato: dayjs('2020-01-04T00:00:00.000Z'),
                            kilde: Kildetype.Søknad,
                            kildeId: 'D94DD20F-8B95-4769-87DA-80F8F3AE6576',
                            gradering: 100,
                        },
                        {
                            type: Dagtype.Helg,
                            dato: dayjs('2020-01-05T00:00:00.000Z'),
                            kilde: Kildetype.Søknad,
                            kildeId: 'D94DD20F-8B95-4769-87DA-80F8F3AE6576',
                            gradering: 100,
                        },
                        {
                            type: Dagtype.Syk,
                            dato: dayjs('2020-01-06T00:00:00.000Z'),
                            kilde: Kildetype.Sykmelding,
                            kildeId: 'DC7A5F57-DE63-4648-9631-B50C100859BA',
                            gradering: 100,
                        },
                        {
                            type: Dagtype.Syk,
                            dato: dayjs('2020-01-07T00:00:00.000Z'),
                            kilde: Kildetype.Sykmelding,
                            kildeId: 'DC7A5F57-DE63-4648-9631-B50C100859BA',
                            gradering: 100,
                        },
                        {
                            type: Dagtype.Syk,
                            dato: dayjs('2020-01-08T00:00:00.000Z'),
                            kilde: Kildetype.Sykmelding,
                            kildeId: 'DC7A5F57-DE63-4648-9631-B50C100859BA',
                            gradering: 100,
                        },
                        {
                            type: Dagtype.Syk,
                            dato: dayjs('2020-01-09T00:00:00.000Z'),
                            kilde: Kildetype.Sykmelding,
                            kildeId: 'DC7A5F57-DE63-4648-9631-B50C100859BA',
                            gradering: 100,
                        },
                        {
                            type: Dagtype.Syk,
                            dato: dayjs('2020-01-10T00:00:00.000Z'),
                            kilde: Kildetype.Sykmelding,
                            kildeId: 'DC7A5F57-DE63-4648-9631-B50C100859BA',
                            gradering: 100,
                        },
                        {
                            type: Dagtype.Helg,
                            dato: dayjs('2020-01-11T00:00:00.000Z'),
                            kilde: Kildetype.Søknad,
                            kildeId: 'D94DD20F-8B95-4769-87DA-80F8F3AE6576',
                            gradering: 100,
                        },
                        {
                            type: Dagtype.Helg,
                            dato: dayjs('2020-01-12T00:00:00.000Z'),
                            kilde: Kildetype.Søknad,
                            kildeId: 'D94DD20F-8B95-4769-87DA-80F8F3AE6576',
                            gradering: 100,
                        },
                        {
                            type: Dagtype.Syk,
                            dato: dayjs('2020-01-13T00:00:00.000Z'),
                            kilde: Kildetype.Sykmelding,
                            kildeId: 'DC7A5F57-DE63-4648-9631-B50C100859BA',
                            gradering: 100,
                        },
                        {
                            type: Dagtype.Syk,
                            dato: dayjs('2020-01-14T00:00:00.000Z'),
                            kilde: Kildetype.Sykmelding,
                            kildeId: 'DC7A5F57-DE63-4648-9631-B50C100859BA',
                            gradering: 100,
                        },
                        {
                            type: Dagtype.Syk,
                            dato: dayjs('2020-01-15T00:00:00.000Z'),
                            kilde: Kildetype.Sykmelding,
                            kildeId: 'DC7A5F57-DE63-4648-9631-B50C100859BA',
                            gradering: 100,
                        },
                        {
                            type: Dagtype.Syk,
                            dato: dayjs('2020-01-16T00:00:00.000Z'),
                            kilde: Kildetype.Sykmelding,
                            kildeId: 'DC7A5F57-DE63-4648-9631-B50C100859BA',
                            gradering: 100,
                        },
                        {
                            type: Dagtype.Syk,
                            dato: dayjs('2020-01-17T00:00:00.000Z'),
                            kilde: Kildetype.Sykmelding,
                            kildeId: 'DC7A5F57-DE63-4648-9631-B50C100859BA',
                            gradering: 100,
                        },
                        {
                            type: Dagtype.Helg,
                            dato: dayjs('2020-01-18T00:00:00.000Z'),
                            kilde: Kildetype.Søknad,
                            kildeId: 'D94DD20F-8B95-4769-87DA-80F8F3AE6576',
                            gradering: 100,
                        },
                        {
                            type: Dagtype.Helg,
                            dato: dayjs('2020-01-19T00:00:00.000Z'),
                            kilde: Kildetype.Søknad,
                            kildeId: 'D94DD20F-8B95-4769-87DA-80F8F3AE6576',
                            gradering: 100,
                        },
                        {
                            type: Dagtype.Syk,
                            dato: dayjs('2020-01-20T00:00:00.000Z'),
                            kilde: Kildetype.Sykmelding,
                            kildeId: 'DC7A5F57-DE63-4648-9631-B50C100859BA',
                            gradering: 100,
                        },
                        {
                            type: Dagtype.Syk,
                            dato: dayjs('2020-01-21T00:00:00.000Z'),
                            kilde: Kildetype.Sykmelding,
                            kildeId: 'DC7A5F57-DE63-4648-9631-B50C100859BA',
                            gradering: 100,
                        },
                        {
                            type: Dagtype.Syk,
                            dato: dayjs('2020-01-22T00:00:00.000Z'),
                            kilde: Kildetype.Sykmelding,
                            kildeId: 'DC7A5F57-DE63-4648-9631-B50C100859BA',
                            gradering: 100,
                        },
                        {
                            type: Dagtype.Syk,
                            dato: dayjs('2020-01-23T00:00:00.000Z'),
                            kilde: Kildetype.Sykmelding,
                            kildeId: 'DC7A5F57-DE63-4648-9631-B50C100859BA',
                            gradering: 100,
                        },
                        {
                            type: Dagtype.Syk,
                            dato: dayjs('2020-01-24T00:00:00.000Z'),
                            kilde: Kildetype.Sykmelding,
                            kildeId: 'DC7A5F57-DE63-4648-9631-B50C100859BA',
                            gradering: 100,
                        },
                        {
                            type: Dagtype.Helg,
                            dato: dayjs('2020-01-25T00:00:00.000Z'),
                            kilde: Kildetype.Søknad,
                            kildeId: 'D94DD20F-8B95-4769-87DA-80F8F3AE6576',
                            gradering: 100,
                        },
                        {
                            type: Dagtype.Helg,
                            dato: dayjs('2020-01-26T00:00:00.000Z'),
                            kilde: Kildetype.Søknad,
                            kildeId: 'D94DD20F-8B95-4769-87DA-80F8F3AE6576',
                            gradering: 100,
                        },
                        {
                            type: Dagtype.Syk,
                            dato: dayjs('2020-01-27T00:00:00.000Z'),
                            kilde: Kildetype.Sykmelding,
                            kildeId: 'DC7A5F57-DE63-4648-9631-B50C100859BA',
                            gradering: 100,
                        },
                        {
                            type: Dagtype.Syk,
                            dato: dayjs('2020-01-28T00:00:00.000Z'),
                            kilde: Kildetype.Sykmelding,
                            kildeId: 'DC7A5F57-DE63-4648-9631-B50C100859BA',
                            gradering: 100,
                        },
                        {
                            type: Dagtype.Syk,
                            dato: dayjs('2020-01-29T00:00:00.000Z'),
                            kilde: Kildetype.Sykmelding,
                            kildeId: 'DC7A5F57-DE63-4648-9631-B50C100859BA',
                            gradering: 100,
                        },
                        {
                            type: Dagtype.Syk,
                            dato: dayjs('2020-01-30T00:00:00.000Z'),
                            kilde: Kildetype.Sykmelding,
                            kildeId: 'DC7A5F57-DE63-4648-9631-B50C100859BA',
                            gradering: 100,
                        },
                        {
                            type: Dagtype.Syk,
                            dato: dayjs('2020-01-31T00:00:00.000Z'),
                            kilde: Kildetype.Sykmelding,
                            kildeId: 'DC7A5F57-DE63-4648-9631-B50C100859BA',
                            gradering: 100,
                        },
                    ],
                    periodetype: Periodetype.Førstegangsbehandling,
                    utbetalinger: {
                        arbeidsgiverUtbetaling: {
                            fagsystemId: 'en-fagsystem-id',
                            linjer: [
                                {
                                    fom: dayjs('2020-01-01T00:00:00.000Z'),
                                    tom: dayjs('2020-01-31T00:00:00.000Z'),
                                    dagsats: 1500,
                                    grad: 100,
                                },
                            ],
                        },
                        personUtbetaling: undefined,
                    },
                    oppsummering: {
                        antallUtbetalingsdager: 23,
                        totaltTilUtbetaling: 34500,
                    },
                    overstyringer: [],
                    inntektskilder: [
                        {
                            arbeidsgiver: 'Potetsekk AS',
                            bransjer: ['Sofasitting', 'TV-titting'],
                            organisasjonsnummer: '987654321',
                            månedsinntekt: 31000,
                            årsinntekt: 372000,
                            refusjon: true,
                            forskuttering: true,
                            arbeidsforhold: [],
                        },
                    ],
                    aktivitetslog: ['Aktivitetsloggvarsel'],
                    sykepengegrunnlag: {
                        arbeidsgivernavn: 'Potetsekk AS',
                        årsinntektFraAording: 372000,
                        årsinntektFraInntektsmelding: 372000,
                        avviksprosent: 0,
                        sykepengegrunnlag: 372000,
                    },
                    risikovurdering: { arbeidsuførhetvurdering: [], ufullstendig: false },
                    simuleringsdata: {
                        totalbeløp: 9999,
                        perioder: [
                            {
                                fom: '2020-01-01',
                                tom: '2020-01-02',
                                utbetalinger: [
                                    {
                                        utbetalesTilId: '987654321',
                                        utbetalesTilNavn: 'Koronavirus',
                                        forfall: '2020-01-03',
                                        feilkonto: true,
                                        detaljer: [
                                            {
                                                faktiskFom: '2020-01-01',
                                                faktiskTom: '2020-01-02',
                                                konto: '12345678910og1112',
                                                belop: 9999,
                                                tilbakeforing: false,
                                                sats: 1111,
                                                typeSats: 'DAGLIG',
                                                antallSats: 9,
                                                uforegrad: 100,
                                                klassekode: 'SPREFAG-IOP',
                                                klassekodeBeskrivelse: 'Sykepenger, Refusjon arbeidsgiver',
                                                utbetalingsType: 'YTELSE',
                                                refunderesOrgNr: '987654321',
                                            },
                                        ],
                                    },
                                ],
                            },
                        ],
                    },
                    automatiskBehandlet: false,
                },
            ],
        },
    ],
    infotrygdutbetalinger: [],
    tildeltTil: undefined,
};
